<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- <link rel="stylesheet" href="../css/products.css"> -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <!-- <link rel="stylesheet" href="../css/products.css"> -->
    
</head>
<style>
    *{
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    .overflow div{
        display: flex;
        text-align: center;
        align-items: center;
        padding:20px 10px;
    }
    .content{
        width: 100%;
    }
    .container{
        display:flex;
        justify-content: center;
        align-items: flex-start;
        
    }
    .overflow{
        width: 300px;
        height: 740px;
        border: 1px solid #dadae5;
        border-radius: 5px;
        background-color:rgba(255, 180, 0,0.4);
        position: sticky;
        top:0px;
    }
    .products{
        border: 1px solid #dadae5;
        border-radius: 5px;
        
    }
    .name img{
        height: 90px;
    }
    h1{
        font-family:  condensed;
        font-size: 32px;
        font-weight: 700;
        line-height: 38px;
        padding: 8px 0px;
    }
    .name{
        padding: 12px 0px;
        margin-left: 30px;
        width: 1200px;
    }
    .detail{
        display: flex;
    }
    .detail p{
        margin-left: 20px;
        font-family: Roboto;
    }
    .render h2{
        font-family: condensed;
        font-size: 26px;
        font-weight: 700;
        line-height: 32px;
        padding: 8px 0px;
        margin-top: 32px;
    }
    hr{
        opacity: 0.3;
    }
    .btn{
        align-items: flex-start;
        border-radius: 4px;
        color: #ffb400;
        display: inline-block;
        font-family: Roboto;
        font-size: 14px;
        font-weight: 700;
        line-height: 20px;
        margin: 12px 0px 0px;
        padding: 10px 16px;
        text-align: center;
        border: 1px solid #ffb400 ;
    }
    .edit{
        align-items: flex-start;
        border-radius: 4px;
        color: #ffb400;
        display: inline-block;
        font-family: Roboto;
        font-size: 14px;
        font-weight: 700;
        line-height: 20px;
        margin: 12px 0px 0px;
        padding: 10px 16px;
        text-align: center;
        border: 1px solid #ffb400 ;
    }
    .item{
        background-color: #ffffff;
        border-radius: 4px;
        box-shadow: #f0f0f0 0px 0px 0px 2px;
    }
    .render__layout{
        display: grid;
        gap:20px;
        grid-template-columns:280px 280px 280px 280px;
        padding: 8px 0px;
    }
    .item img{
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
    .item div {
        display: flex;
        justify-content: center;
    } 
    .item .brand{
        display: block;
        margin-left: 20px;
    }  
    .overflow input{
        width: 280px;
        font-size: 20px;
        font-family:  condensed;
        padding: 10px;
        border-radius: 5px;
        
    }
    .overflow{
        font-size: 25px
    
    }
    .textarea{
        width: 280px;
    }
    .overflow div{
        padding: 10px;
    }
    .add{
        border: 1px solid black;
        background-color:aquamarine;
        padding: 10px;
        text-align: center;
        inline-size: 180px;
        margin-left: 45px;
        margin-top: 15px;
    }
    .brand{
        font-size: 15px;
    }
    .ten{
        font-size: 20px;
        font-weight: 700;
    }
    .price{
        color: #576b95;
    }
</style>
<body>

    <section>
        <div class="content">
            <div class="container">
    
                <div class="overflow">
                    <div for="">Tên sản phẩm</div>
                    <input type="text" id="name">

                    <div for="">Giá</div>
                    <input type="nunber" id="price">

                    <div for="">Hãng</div>
                    <select name="" id="brand">
                        <option value="BMW">BMW</option>
                        <option value="Benelli">Benelli</option>
                        <option value="KTM">KTM</option> 
                        <option value="Kawasaki">Kawasaki</option>

                    </select>

                    <div for="">Hình</div>
                    <input type="text"  placeholder="../images/img/img6.jpg" id="picture">

                    <div for="">Mô tả sản phẩm</div>
                    <textarea class="textarea" name="" id="detail" cols="30" rows="10"></textarea>

                    <div onclick="renderManegerProduct()" class="add">Thêm sản phẩm</div>
                    
                </div>
                
                <div class="products" >
                    <div class="name">

                        <div class="render">

                            <div class="render__layout">
                                
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </section>
    <script>
        function createId() {
            return Math.floor(Math.random() * 9999999999999 + new Date().getMilliseconds())
        }

        let product=JSON.parse(localStorage.getItem('product'))||[]

        function renderManegerProduct(){
            let name=document.getElementById('name').value;
            let price=document.getElementById('price').value;
            let brand=document.getElementById('brand').value;
            let picture =document.getElementById('picture').value;
            let detail=document.getElementById('detail').value;
            
            let productItem={
                name:name,
                price:price,
                brand:brand,
                picture:picture,
                detail:detail,
                id:createId(),
            
            }
            
            let checkId=localStorage.getItem('id');
            console.log(checkId);
            if(checkId){
                for(let i=0;i<product.length;i++){
                    if(product[i].id==checkId){
                        product.splice(i,1,{...productItem,id:checkId});
                        localStorage.setItem('product',JSON.stringify(product));
                        render();
                        localStorage.removeItem('id');
                        document.getElementsByClassName('add')[0].innerHTML='Thêm sản phẩm'
                        return;
                        
                    }
                }
            }
                product.push(productItem);
                localStorage.setItem('product',JSON.stringify(product));
                render();
            
        }

        function render(){
            product = JSON.parse(localStorage.getItem('product'))||[]
            let element=''
            for(let i=0 ;i <product.length;i++){
                element+=
                `
                                <div class="render__container">
                                    <div class="item">
                                        <img  src="${product[i].picture}" alt="">
                                        <div class="brand">${product[i].brand}</div>
                                        <div class='ten'>${product[i].name}</div>
                                        <div class='price'>${product[i].price}</div>
                                        <div onclick='deleteProduct(${product[i].id})' class="btn">Xóa</div>
                                        <div onclick='edit(${product[i].id})' class="edit">Sửa</div>
                                    </div>
                                </div>
                `
            }
            document.getElementsByClassName('render__layout')[0].innerHTML=element;
        }
        render();

        function deleteProduct(ID){
                for(let i=0;i<product.length;i++){
                    if(product[i].id==ID){
                        product.splice(i,1);
                        localStorage.setItem('product',JSON.stringify(product));
                        render();
                    }
                }
        }

        function edit(ID){
            localStorage.setItem('id',ID);
            console.log(localStorage.setItem('id',ID));
            document.getElementsByClassName('add')[0].innerHTML='Save Edit';
            for(let i=0;i<product.length;i++){
                if(product[i].id==ID){
                    document.getElementById('name').value=product[i].name;
                    document.getElementById('price').value=product[i].price;
                    document.getElementById('brand').value=product[i].brand;
                    document.getElementById('picture').value=product[i].picture;
                    document.getElementById('detail').value=product[i].detail;
                }
            }
        }
        
       



        /* **************thêm hình****************** */

    </script>


</body>
</html>